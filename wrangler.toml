# ============================================================
# CLOUDFLARE PAGES CONFIGURATION
# ============================================================
# This file is ONLY for Cloudflare Pages deployment
# For Render deployment, see: render.yaml
# ============================================================
#
# IMPORTANT: This is a PAGES project, NOT a Workers project!
# In Cloudflare Dashboard:
#   - Build command: npm run build
#   - DO NOT use: npx wrangler deploy (that's for Workers)
#   - Cloudflare Pages auto-deploys from Git
#
# ============================================================

name = "armanlawfirm"
compatibility_date = "2024-01-01"

# Output directory for static files (frontend build)
pages_build_output_dir = "dist"

# Environment variables (set these in Cloudflare Dashboard > Settings > Environment Variables)
[vars]
NODE_VERSION = "20"

# ============================================================
# D1 DATABASE CONFIGURATION
# ============================================================
[[d1_databases]]
binding = "DB"
database_name = "wb-data_bs_armanlawfirm"
database_id = "54480fa8-5a72-4664-ab2d-0b676c942805"

# ============================================================
# DEPLOYMENT INSTRUCTIONS FOR CLOUDFLARE PAGES:
# ============================================================
# 1. Go to Cloudflare Dashboard > Workers & Pages
# 2. Click "Create application" > "Pages" > "Connect to Git"
# 3. Select your GitHub repository
# 4. Configure build settings:
#    - Build command: npm run build
#    - Build output directory: dist
#    - Root directory: / (leave empty)
# 5. Add Environment Variables in Settings:
#    - GEMINI_API_KEY (Secret)
#    - NODE_VERSION = 20
# 6. Click "Save and Deploy"
#
# DO NOT set deploy command to "npx wrangler deploy"
# Cloudflare Pages handles deployment automatically!
# ============================================================
#
# D1 DATABASE SETUP:
# ============================================================
# 1. The D1 database is already created with ID: 54480fa8-5a72-4664-ab2d-0b676c942805
# 2. Run migrations: npx wrangler d1 execute wb-data_bs_armanlawfirm --file=./migrations/0001_init.sql
# 3. Or use: npx wrangler d1 migrations apply wb-data_bs_armanlawfirm
# ============================================================
